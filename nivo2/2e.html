<!DOCTYPE html>
<html lang="bs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kviz 2E - Zavr≈°ni</title>
    
    <!-- Centralizovani CSS -->
    <link rel="stylesheet" href="../core/styles.css">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="quiz-header">
            <img src="../assets/images/mekteb_logo.png" alt="MEKTEB Logo" class="quiz-icon">
            <h1>Kviz 2E - Zavr≈°ni</h1>
            <p class="subtitle">Zavr≈°ni Kviz - Nivo 2</p>
        </div>

        <!-- QUIZ SCREEN -->
        <div id="quizScreen" class="quiz-screen">
            <div class="progress-info">
                <a href="../index.html" class="back-link">‚Üê Nazad</a>
                <div class="progress-bar-container">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <span id="questionCounter" style="color: #fbbf24; font-weight: 600;">1/25</span>
            </div>

            <div class="question-card">
                <div id="questionText" class="question-text"></div>
                <div id="optionsContainer" class="options"></div>
            </div>
        </div>

        <!-- RESULT SCREEN -->
        <div id="resultScreen" class="result-screen">
            <div class="result-card">
                <div id="resultEmoji" class="result-emoji">üåü</div>
                <div id="resultMessage" class="result-message">Izvrsno!</div>
                <div id="resultScore" class="result-score">0/25</div>
                <div id="resultPercentage" class="result-percentage">0% taƒçnih odgovora</div>
                <button onclick="restartQuiz()" class="restart-btn">üîÑ Ponovi kviz</button>
            </div>
        </div>
    </div>

    <!-- POPUP OVERLAY -->
    <div id="popupOverlay" class="popup-overlay">
        <div class="popup-content">
            <div id="popupIcon" class="popup-icon">‚úÖ</div>
            <div id="popupTitle" class="popup-title">Taƒçno!</div>
            <div id="popupExplanation" class="popup-explanation"></div>
            <button onclick="nextQuestion()" class="popup-next-btn">Sljedeƒáe pitanje ‚Üí</button>
        </div>
    </div>

    <!-- QUIZ DATA -->
    <script>
        const quizData = {
            questionsToShow: 25,
            allQuestions: [
// ===== IZ 2A - IMANSKI ≈†ARTI (25 pitanja) =====
            {question: 'Izbaci rijeƒç koja NE pripada: Vud≈æud, Ilm, Beka, Kur\'an', options: ['Vud≈æud', 'Ilm', 'Beka', 'Kur\'an'], answer: 'Kur\'an', explanation: 'Vud≈æud, Ilm i Beka su Allahova SVOJSTVA, dok je Kur\'an Allahova KNJIGA.'},
            {question: 'Izbaci rijeƒç koja NE pripada: Nuh, Jusuf, Musa, Isa', options: ['Nuh, a.s.', 'Jusuf, a.s.', 'Musa, a.s.', 'Isa, a.s.'], answer: 'Jusuf, a.s.', explanation: 'Nuh, Musa i Isa su Ulul-\'azm poslanici, Jusuf, a.s., nije.'},
            {question: 'Izbaci rijeƒç koja NE pripada: D≈æibril, Mikail, Iblis, Israfil', options: ['D≈æibril', 'Mikail', 'Iblis', 'Israfil'], answer: 'Iblis', explanation: 'D≈æibril, Mikail i Israfil su MELEKI, a Iblis je D≈ΩIN.'},
            {question: 'Izbaci rijeƒç koja NE pripada: Tevrat, Zebur, Suhuf, Ind≈æil', options: ['Tevrat', 'Zebur', 'Suhuf', 'Ind≈æil'], answer: 'Suhuf', explanation: 'Tevrat, Zebur i Ind≈æil su KITABI (velike knjige), a Suhufi su mali listovi.'},
            {question: 'Pojam LEVHI-MAHFUZ asocira na:', options: ['Vrstu namaza', 'Allahovo ime', 'Sudbinu i odreƒëenje', 'Vrstu posta'], answer: 'Sudbinu i odreƒëenje', explanation: 'U Levhi-mahfuzu je zapisana sudbina svega - ≈°esti imanski ≈°art.'},
            {question: 'Rijeƒç BERZAH asocira na:', options: ['Vrijeme prije roƒëenja', 'Zagrobni ≈æivot', 'Sudnji dan', '≈Ωivot u D≈æennetu'], answer: 'Zagrobni ≈æivot', explanation: 'BERZAH je period izmeƒëu smrti i Sudnjeg dana.'},
            {question: 'Dopuni analogiju: Ridvan : D≈æennet = Malik : ?', options: ['Kabur', 'Sirat', 'D≈æehennem', 'Mizan'], answer: 'D≈æehennem', explanation: 'Ridvan ƒçuva D≈æennet, Malik ƒçuva D≈æehennem.'},
            {question: 'Dopuni analogiju: Musa : Tevrat = Davud : ?', options: ['Kur\'an', 'Ind≈æil', 'Zebur', 'Suhuf'], answer: 'Zebur', explanation: 'Musau je objavljen Tevrat, Davudu Zebur.'},
            {question: 'Dopuni analogiju: D≈æibril : objava = Israfil : ?', options: ['Prirodne pojave', 'Smrt', 'Puhanje u sur', 'Pisanje djela'], answer: 'Puhanje u sur', explanation: 'D≈æibril donosi objavu, Israfil pu≈°e u sur.'},
            {question: '"Pratim te i zapisujem svako djelo." Ko sam ja?', options: ['Munkir i Nekir', 'Kiramun-katibun', 'D≈æibril', 'Mikail'], answer: 'Kiramun-katibun', explanation: 'Kiramun-katibun su meleki pisari koji bilje≈æe sva djela.'},
            {question: '"U meni je zapisana sudbina svakog ƒçovjeka." ≈†ta sam ja?', options: ['Kur\'an', 'Levhi-mahfuz', 'Sirat', 'Mizan'], answer: 'Levhi-mahfuz', explanation: 'LEVHI-MAHFUZ - Pomno ƒçuvana ploƒça sa sudbinom svega.'},
            {question: '"Nisam melek, ali sam odbio sed≈ædu iz oholosti." Ko sam?', options: ['Adem, a.s.', 'D≈æibril', 'Iblis', 'Mikail'], answer: 'Iblis', explanation: 'IBLIS je d≈æin koji je iz oholosti odbio sed≈ædu Ademu, a.s.'},
            {question: 'Pronaƒëi GRE≈†KU: "Kur\'an ima 114 ajeta i objavljen je u 23 godine."', options: ['Nije objavljen u 23 godine', 'Ima 114 SURA, ne ajeta', 'Objavljen je odjednom', 'Nema gre≈°ke'], answer: 'Ima 114 SURA, ne ajeta', explanation: 'Kur\'an ima 114 SURA i 6236 ajeta.'},
            {question: '≈†ta je ZAJEDNIƒåKO: Ibrahim-Ismail, Davud-Sulejman, Zekerija-Jahja?', options: ['Svi su Ulul-azm', 'Svi su odnos otac-sin', 'Svi su primili kitabe', '≈Ωivjeli u isto vrijeme'], answer: 'Svi su odnos otac-sin', explanation: 'U sva tri para radi se o poslanicima u odnosu OTAC-SIN.'},
            {question: 'Dopuni niz: Vud≈æud, Vahdanijjet, Kidem, Beka, Muhalefetun lil-havadisi, ?', options: ['Hajat', 'Ilm', 'Kijamun bi nefsihi', 'Tekvin'], answer: 'Kijamun bi nefsihi', explanation: 'To je ≈°est es-sifatuz-zatijje - ≈°esto svojstvo je Kijamun bi nefsihi.'},
            {question: 'Dopuni niz: Smrt ‚Üí Berzah ‚Üí Israfilovo puhanje ‚Üí Pro≈æivljenje ‚Üí ?', options: ['Povratak na dunjaluk', 'Sudnji dan', 'Ponovna smrt', 'D≈æennet'], answer: 'Sudnji dan', explanation: 'Nakon pro≈æivljenja slijedi Sudnji dan, pa tek onda D≈æennet ili D≈æehennem.'},
            {question: '≈†ejtan je Ademu obeƒáao tri stvari. Koja NIJE bila meƒëu njima?', options: ['Besmrtnost', 'Da postanu meleki', 'Vjeƒçna vlast', 'Veliko bogatstvo'], answer: 'Veliko bogatstvo', explanation: '≈†ejtan je obeƒáao besmrtnost, da postanu meleki i vlast - NE bogatstvo.'},
            {question: 'Koji melek donosi Bo≈æiju objavu?', options: ['Mikail', 'Israfil', 'D≈æibril', 'Azrail'], answer: 'D≈æibril', explanation: 'D≈ΩIBRIL donosi Allahovu objavu poslanicima.'},
            {question: 'Koliko ima velikih Allahovih knjiga?', options: ['2', '4', '6', '10'], answer: '4', explanation: 'ƒåetiri kitaba: Tevrat, Zebur, Ind≈æil i Kur\'an.'},
            {question: 'Koliko se poslanika spominje u Kur\'anu?', options: ['20', '25', '30', '50'], answer: '25', explanation: 'U Kur\'anu se poimence spominje 25 poslanika.'},
            {question: 'Svojstvo TEKVIN znaƒçi da Allah:', options: ['Sve ƒçuje', 'Sve vidi', 'Sve stvara i uzdr≈æava', 'Govori'], answer: 'Sve stvara i uzdr≈æava', explanation: 'TEKVIN - Allah sve stvara, uzdr≈æava i rastvara.'},
            {question: 'Peƒáina HIRA asocira na:', options: ['Hid≈æru', 'Poƒçetak objave Kur\'ana', 'Bitku na Bedru', 'Isru i Mi\'rad≈æ'], answer: 'Poƒçetak objave Kur\'ana', explanation: 'U peƒáini Hira je Muhammed, a.s., primio prvu objavu.'},
            {question: 'Koliko ukupno ima Allahovih svojstava?', options: ['6', '8', '12', '14'], answer: '14', explanation: '14 svojstava: 6 es-sifatuz-zatijje + 8 es-sifatus-subutijje.'},
            {question: 'Ime RIDVAN vas asocira na:', options: ['Mekku', 'Medinu', 'D≈æennet', 'D≈æehennem'], answer: 'D≈æennet', explanation: 'RIDVAN je melek ƒçuvar D≈æenneta. Malik ƒçuva D≈æehennem.'},
            {question: 'Broj 23 u kontekstu Kur\'ana asocira na:', options: ['Broj sura', 'Broj d≈æuzova', 'Godine objavljivanja', 'Broj poslanika'], answer: 'Godine objavljivanja', explanation: 'Kur\'an je objavljivano 23 godine (13 u Mekki + 10 u Medini).'},

            // ===== IZ 2B - ISLAMSKI ≈†ARTI (25 pitanja) =====
            {question: 'Izbaci rijeƒç koja NE pripada: Sabah, Podne, D≈æuma, Ikindija', options: ['Sabah', 'Podne', 'D≈æuma', 'Ikindija'], answer: 'D≈æuma', explanation: 'Sabah, Podne i Ikindija su DNEVNI namazi, a D≈æuma je SEDMIƒåNI.'},
            {question: 'Izbaci rijeƒç koja NE pripada: ≈†ehadet, Namaz, Iman, Post', options: ['≈†ehadet', 'Namaz', 'Iman', 'Post'], answer: 'Iman', explanation: '≈†ehadet, Namaz i Post su ISLAMSKI ≈°arti, a Iman je VJEROVANJE.'},
            {question: 'Izbaci rijeƒç koja NE pripada: Sehur, Iftar, Imsak, Tavaf', options: ['Sehur', 'Iftar', 'Imsak', 'Tavaf'], answer: 'Tavaf', explanation: 'Sehur, Iftar i Imsak su RAMAZANSKI pojmovi, a Tavaf je HAD≈ΩSKI obred.'},
            {question: 'Izbaci rijeƒç koja NE pripada: Ihram, Arefat, Tavaf, Teravih', options: ['Ihram', 'Arefat', 'Tavaf', 'Teravih'], answer: 'Teravih', explanation: 'Ihram, Arefat i Tavaf su FARZOVI HAD≈ΩA, a Teravih je RAMAZANSKI namaz.'},
            {question: 'Pojam MEKKA vas asocira na:', options: ['Post', 'Had≈æ', 'Zekat', 'Teravih'], answer: 'Had≈æ', explanation: 'MEKKA je sveti grad gdje se obavlja HAD≈Ω i nalazi se Kaba.'},
            {question: 'Pojam RAMAZAN vas asocira na:', options: ['Had≈æ', 'Zekat', 'Post i teravih', 'D≈æuma'], answer: 'Post i teravih', explanation: 'RAMAZAN je mjesec posta, teravije, mukabele i iftara.'},
            {question: 'Pojam D≈ΩEMAT vas asocira na:', options: ['Pojedinaƒçni namaz', 'Zajedniƒçki namaz', 'Noƒáni namaz', 'Post'], answer: 'Zajedniƒçki namaz', explanation: 'D≈ΩEMAT je zajedniƒçki namaz koji vrijedi 27 puta vi≈°e.'},
            {question: 'Dopuni: Sabah : jutro = Ak≈°am : ?', options: ['Podne', 'Ikindija', 'Zalazak sunca', 'Ponoƒá'], answer: 'Zalazak sunca', explanation: 'Sabah se klanja ujutro, a Ak≈°am kada sunce zaƒëe.'},
            {question: 'Dopuni: Sehur : poƒçetak = Iftar : ?', options: ['Sredina', 'Zavr≈°etak posta', 'Noƒá', 'Jutro'], answer: 'Zavr≈°etak posta', explanation: 'Sehur je priprema za post, a Iftar je zavr≈°etak posta.'},
            {question: 'Dopuni: Ramazan : post = Zul-hid≈æe : ?', options: ['Zekat', 'Had≈æ', 'Namaz', 'Teravih'], answer: 'Had≈æ', explanation: 'U ramazanu je post, a u zul-hid≈æetu had≈æ.'},
            {question: 'Dopuni: Faita : propu≈°teni = Vaktija : ?', options: ['Buduƒái', 'Tekuƒái namaz', 'Noƒáni', 'Sedmiƒçni'], answer: 'Tekuƒái namaz', explanation: 'Faita je propu≈°teni namaz, a Vaktija je namaz u tekuƒáem vremenu.'},
            {question: 'Broj 27 u kontekstu namaza asocira na:', options: ['Broj rekata', 'Vrijednost d≈æemata', 'Broj sura', 'Broj sed≈ædi'], answer: 'Vrijednost d≈æemata', explanation: 'Namaz u d≈æematu vrijedi 27 PUTA vi≈°e od pojedinaƒçnog.'},
            {question: '"Ja sam propu≈°teni namaz koji se mora naklanjati." ≈†ta sam?', options: ['Vaktija', 'Faita', 'Teravih', 'Vitr'], answer: 'Faita', explanation: 'FAITA je propu≈°teni namaz koji se mora naklanjati.'},
            {question: '"Ja sam sedmiƒçni namaz koji zamjenjuje podne petkom." ≈†ta sam?', options: ['Bajram', 'Teravih', 'D≈æuma', 'Vitr'], answer: 'D≈æuma', explanation: 'D≈ΩUMA je sedmiƒçni namaz koji zamjenjuje podne petkom.'},
            {question: '"Uƒçim se u treƒáem rekatu vitira." ≈†ta sam?', options: ['Fatiha', 'Kunut-dova', 'Subhaneke', 'Tahijjat'], answer: 'Kunut-dova', explanation: 'KUNUT-DOVA se uƒçi u treƒáem rekatu vitr-namaza.'},
            {question: 'Koliko ima islamskih ≈°artova?', options: ['3', '4', '5', '6'], answer: '5', explanation: 'Pet islamskih ≈°artova: ≈°ehadet, namaz, post, zekat i had≈æ.'},
            {question: '≈†ta je nisab?', options: ['Vrsta namaza', 'Koliƒçina imovine za zekat', 'Had≈æski obred', 'Vrsta posta'], answer: 'Koliƒçina imovine za zekat', explanation: 'NISAB je koliƒçina imovine koju ako osoba posjeduje, du≈æna je dati zekat.'},
            {question: 'Kada had≈æije borave na Arefatu?', options: ['1. zul-hid≈æeta', '9. zul-hid≈æeta', '10. zul-hid≈æeta', '15. zul-hid≈æeta'], answer: '9. zul-hid≈æeta', explanation: '9. zul-hid≈æeta had≈æije borave na brdu Arefat - kljuƒçni dan had≈æa.'},
            {question: '≈†ta had≈æije uƒçe tokom had≈æa?', options: ['Salavat', 'Telbiju', 'Fatihu', 'Ihlas'], answer: 'Telbiju', explanation: 'Had≈æije uƒçe TELBIJU: "Lebbejkellahumme lebbejk..."'},
            {question: 'Pojam TELBIJA vas asocira na:', options: ['Namaz', 'Had≈æ', 'Post', 'Zekat'], answer: 'Had≈æ', explanation: 'TELBIJA je dova koju had≈æije uƒçe tokom had≈æskih obreda.'},
            {question: 'Koliko dnevnih namaza klanja musliman?', options: ['3', '4', '5', '7'], answer: '5', explanation: 'Pet dnevnih namaza: sabah, podne, ikindija, ak≈°am, jacija.'},
            {question: '≈†ta je mukabela?', options: ['Noƒáni namaz', 'Zajedniƒçko uƒçenje Kur\'ana', 'Vrsta posta', 'Had≈æski obred'], answer: 'Zajedniƒçko uƒçenje Kur\'ana', explanation: 'MUKABELA je zajedniƒçko uƒçenje Kur\'ana u d≈æamiji tokom ramazana.'},
            {question: 'Koliko se puta obilazi oko Kabe u tavafu?', options: ['3 puta', '5 puta', '7 puta', '10 puta'], answer: '7 puta', explanation: 'TAVAF je sedam obilazaka oko Kabe.'},
            {question: 'Pojam BEJTUL-MAL vas asocira na:', options: ['Namaz', 'Had≈æ', 'Zekat', 'Post'], answer: 'Zekat', explanation: 'BEJTUL-MAL je fond IZ u BiH gdje se prikuplja zekat.'},
            {question: '≈†ta je itikaf?', options: ['Vrsta namaza', 'Boravak u d≈æamiji zadnjih 10 dana ramazana', 'Had≈æski obred', 'Vrsta zekata'], answer: 'Boravak u d≈æamiji zadnjih 10 dana ramazana', explanation: 'ITIKAF je povlaƒçenje u d≈æamiju radi ibadeta zadnjih 10 dana ramazana.'},

            // ===== IZ 2C - AHLAK I GRIJESI (25 pitanja) =====
            {question: 'Izbaci pojam koji NE pripada: Kufr, ≈†irk, Riddet, Tevba', options: ['Kufr', '≈†irk', 'Riddet', 'Tevba'], answer: 'Tevba', explanation: 'Kufr, ≈†irk i Riddet su TE≈†KI GRIJESI, a Tevba je POKAJANJE.'},
            {question: 'Izbaci pojam koji NE pripada: ƒåestitost, Odgovornost, Iskrenost, Oholost', options: ['ƒåestitost', 'Odgovornost', 'Iskrenost', 'Oholost'], answer: 'Oholost', explanation: 'ƒåestitost, Odgovornost i Iskrenost su VRLINE, Oholost je MANA.'},
            {question: 'Izbaci pojam koji NE pripada: Svinjsko meso, Krv, Med, Alkohol', options: ['Svinjsko meso', 'Krv', 'Med', 'Alkohol'], answer: 'Med', explanation: 'Svinjsko meso, Krv i Alkohol su HARAM, a Med je HALAL.'},
            {question: 'Pojam TEVBA vas asocira na:', options: ['Grijeh', 'Pokajanje', 'Namaz', 'Post'], answer: 'Pokajanje', explanation: 'TEVBA znaƒçi pokajanje za uƒçinjene grijehe.'},
            {question: 'Pojam HALAL asocira na:', options: ['Zabranjeno', 'Dozvoljeno', 'Pokuƒëeno', 'Obavezno'], answer: 'Dozvoljeno', explanation: 'HALAL je sve ≈°to je Allah dozvolio.'},
            {question: 'Pojam ≈†IRK asocira na:', options: ['Jednoƒáu Allaha', 'Pripisivanje druga', 'Pokajanje', 'Vrlinu'], answer: 'Pripisivanje druga', explanation: '≈†IRK je pripisivanje druga Allahu - te≈°ki grijeh.'},
            {question: 'Pojam AHLAK asocira na:', options: ['Namaz', 'Moral i pona≈°anje', 'Post', 'Had≈æ'], answer: 'Moral i pona≈°anje', explanation: 'AHLAK je islamski moral i lijepo pona≈°anje.'},
            {question: 'Dopuni: Halal : dozvoljeno = Haram : ?', options: ['Pohvalno', 'Zabranjeno', 'Obavezno', 'Pokuƒëeno'], answer: 'Zabranjeno', explanation: 'Halal je dozvoljeno, Haram je zabranjeno.'},
            {question: 'Dopuni: Kufr : nevjerovanje = Nifak : ?', options: ['Iskrenost', 'Licemjerstvo', 'Hrabrost', 'Skromnost'], answer: 'Licemjerstvo', explanation: 'Kufr je nevjerovanje, Nifak je licemjerstvo.'},
            {question: 'Dopuni: Iskrenost : vrlina = La≈æ : ?', options: ['Vrlina', 'Grijeh', 'Pohvala', 'Nagrada'], answer: 'Grijeh', explanation: 'Iskrenost je vrlina, La≈æ je grijeh.'},
            {question: 'Dopuni: Mali grijeh : upozorenje = Te≈°ki grijeh : ?', options: ['Nagrada', 'Izlazak iz vjere', 'Pohvala', 'Blagoslov'], answer: 'Izlazak iz vjere', explanation: 'Mali grijeh nosi upozorenje, Te≈°ki grijeh izvodi iz vjere.'},
            {question: '"Ja sam pokajanje za uƒçinjeni grijeh." ≈†ta sam?', options: ['Namaz', 'Tevba', 'Post', 'Sadaka'], answer: 'Tevba', explanation: 'TEVBA je pokajanje za uƒçinjene grijehe.'},
            {question: '"Ja sam te≈°ki grijeh - nevjerovanje u Allaha." ≈†ta sam?', options: ['≈†irk', 'Kufr', 'Nifak', 'Riddet'], answer: 'Kufr', explanation: 'KUFR je nevjerovanje u Allaha i temeljne istine vjere.'},
            {question: '"Ja sam vrlina - govorim istinu i dr≈æim obeƒáanja." ≈†ta sam?', options: ['Oholost', 'La≈æ', 'Iskrenost', 'Prevara'], answer: 'Iskrenost', explanation: 'ISKRENOST znaƒçi govoriti istinu i dr≈æati obeƒáanja.'},
            {question: '"Ja sam dijete bez roditelja." Ko sam?', options: ['Musafir', 'Jetim', 'Muallim', 'Imam'], answer: 'Jetim', explanation: 'JETIM je siroƒçe - dijete bez roditelja.'},
            {question: '"Ja sam licemjerstvo - javno vjerujem, tajno poriƒçem." ≈†ta sam?', options: ['Kufr', '≈†irk', 'Nifak', 'Riddet'], answer: 'Nifak', explanation: 'NIFAK je licemjerstvo u vjeri.'},
            {question: 'Pronaƒëi GRE≈†KU: "Grijesi se dijele na male i velike."', options: ['Ima i TE≈†KI grijesi', 'Nema malih grijeha', 'Nema velikih grijeha', 'Nema gre≈°ke'], answer: 'Ima i TE≈†KI grijesi', explanation: 'Grijesi se dijele na MALE, VELIKE i TE≈†KE.'},
            {question: 'Pronaƒëi GRE≈†KU: "Tevba se mo≈æe uputiti imamu."', options: ['Samo ALLAHU', 'Samo roditeljima', 'Samo prijateljima', 'Nema gre≈°ke'], answer: 'Samo ALLAHU', explanation: 'Tevba se upuƒáuje SAMO Allahu, d≈æ.≈°.'},
            {question: 'Koji grijeh izvodi osobu iz vjere?', options: ['Mali grijeh', 'Veliki grijeh', 'Te≈°ki grijeh', 'Svi grijesi'], answer: 'Te≈°ki grijeh', explanation: 'Te≈°ki grijesi (kufr, ≈°irk, riddet, nifak) izvode poƒçinioca iz vjere.'},
            {question: '≈†ta je KUFR?', options: ['Licemjerstvo', 'Nevjerovanje u Allaha', 'Napu≈°tanje vjere', 'Pripisivanje druga'], answer: 'Nevjerovanje u Allaha', explanation: 'KUFR je nevjerovanje u Allaha i ostale temeljne istine vjere.'},
            {question: '≈†ta je ≈†IRK?', options: ['Licemjerstvo', 'Nevjerovanje', 'Pripisivanje druga Allahu', 'Napu≈°tanje vjere'], answer: 'Pripisivanje druga Allahu', explanation: '≈†IRK je vjerovanje da uz Allaha postoje i druga bo≈æanstva.'},
            {question: 'Kako glasi dova za pokajanje?', options: ['Bismillah', 'Elhamdulillah', 'Estagfirullah', 'Subhanallah'], answer: 'Estagfirullah', explanation: 'ESTAGFIRULLAH - Tra≈æim Allahov oprost za grijehe.'},
            {question: 'Poslanik je rekao da je alkohol:', options: ['Dozvoljen u malim koliƒçinama', 'Majka svih zala', 'Lijek', 'Neutralan'], answer: 'Majka svih zala', explanation: '"Alkohol je majka svih zala." (Hakim)'},
            {question: '≈†ta je jetim?', options: ['Bogata≈°', 'Siroƒçe', 'Putnik', 'Starac'], answer: 'Siroƒçe', explanation: 'JETIM je siroƒçe - dijete bez roditelja.'},
            {question: '"Ja sam sredina izmeƒëu pretjerivanja i nemara." ≈†ta sam?', options: ['Krajnost', 'Umjerenost', 'Pretjerivanje', 'Nemar'], answer: 'Umjerenost', explanation: 'UMJERENOST je srednji put izmeƒëu krajnosti.'},

            // ===== IZ 2D - SURE I DOVE (25 pitanja) =====
            {question: 'Izbaci pojam koji NE pripada: El-Kevser, El-Kafirun, El-Maun, Fatiha', options: ['El-Kevser', 'El-Kafirun', 'El-Maun', 'Fatiha'], answer: 'Fatiha', explanation: 'El-Kevser, El-Kafirun i El-Maun su kratke mekanske sure, a Fatiha je posebna.'},
            {question: 'Izbaci suru po broju ajeta: El-Kevser (3), El-Kurej≈° (4), El-Kafirun (6), El-Maun (5)', options: ['El-Kevser', 'El-Kurej≈°', 'El-Kafirun', 'El-Maun'], answer: 'El-Maun', explanation: 'El-Maun ima 7 ajeta, ne 5. Ostale su taƒçno navedene.'},
            {question: 'Pojam "EBTER" vas asocira na:', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Kevser', explanation: 'EBTER (bez spomena) se spominje u suri El-Kevser.'},
            {question: 'Pojam "JETIM" vas asocira na:', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Maun', explanation: 'JETIM (siroƒçe) se spominje u suri El-Maun.'},
            {question: 'Pojam "ZIMSKO PUTOVANJE" asocira na:', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Kurej≈°', explanation: 'Zimsko i ljetno putovanje Kurej≈°ija - sura El-Kurej≈°.'},
            {question: 'Pojam "KURBAN" asocira na:', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Kevser', explanation: '"Moli se i KURBAN kolji" - iz sure El-Kevser.'},
            {question: 'Broj 3 u kontekstu sura asocira na:', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Kevser', explanation: 'El-KEVSER ima 3 ajeta - najkraƒáa sura.'},
            {question: 'Dopuni: El-Kevser : 3 ajeta = El-Kafirun : ?', options: ['4 ajeta', '5 ajeta', '6 ajeta', '7 ajeta'], answer: '6 ajeta', explanation: 'El-Kevser ima 3 ajeta, El-Kafirun ima 6 ajeta.'},
            {question: 'Dopuni: Kevser : obilje = Kafirun : ?', options: ['Jetimi', 'Nevjernici', 'Siromasi', 'Kurej≈°ije'], answer: 'Nevjernici', explanation: 'Kevser znaƒçi obilje, Kafirun znaƒçi nevjernici.'},
            {question: 'Dopuni: Vitr : Kunut-dova = Poslije jela : ?', options: ['Namaska dova', 'El-hamdu lillah', 'Subhaneke', 'Fatiha'], answer: 'El-hamdu lillah', explanation: 'U vitru se uƒçi Kunut-dova, poslije jela El-hamdu lillah.'},
            {question: '"Imam samo 3 ajeta i govorim o mnogo dobru." Koja sam sura?', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Kevser', explanation: 'EL-KEVSER ima 3 ajeta i govori o "kevser" - mnogo dobru.'},
            {question: '"Imam 6 ajeta i zavr≈°avam sa Lekum dinukum ve lije din." Koja sam?', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Kafirun', explanation: 'EL-KAFIRUN ima 6 ajeta i zavr≈°ava tom reƒçenicom.'},
            {question: '"Govorim o siroƒçetu i siromahu." Koja sam sura?', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Maun', explanation: 'EL-MAUN govori o jetimima i miskinima.'},
            {question: '"Govorim o zimskom i ljetnom putovanju." Koja sam sura?', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Kurej≈°', explanation: 'EL-KUREJ≈† govori o putovanjima Kurej≈°ija.'},
            {question: 'Pronaƒëi GRE≈†KU: "Sura El-Kevser ima 6 ajeta."', options: ['Ima 3 ajeta', 'Ima 4 ajeta', 'Ima 7 ajeta', 'Nema gre≈°ke'], answer: 'Ima 3 ajeta', explanation: 'Sura El-Kevser ima samo 3 ajeta - najkraƒáa sura.'},
            {question: 'Pronaƒëi GRE≈†KU: "Kunut-dova se uƒçi u prvom rekatu vitira."', options: ['U TREƒÜEM rekatu', 'U drugom rekatu', 'Poslije namaza', 'Nema gre≈°ke'], answer: 'U TREƒÜEM rekatu', explanation: 'Kunut-dova se uƒçi u TREƒÜEM rekatu vitr-namaza.'},
            {question: 'Koliko ajeta ima sura El-Kevser?', options: ['3', '4', '5', '6'], answer: '3', explanation: 'Sura El-Kevser ima samo 3 ajeta - najkraƒáa sura.'},
            {question: 'Koliko ajeta ima sura El-Maun?', options: ['5', '6', '7', '8'], answer: '7', explanation: 'Sura El-Maun ima 7 ajeta.'},
            {question: '≈†ta znaƒçi rijeƒç "Kevser"?', options: ['Nevjernici', 'Mnogo dobro', 'Siroƒçe', 'Kurej≈°ije'], answer: 'Mnogo dobro', explanation: 'KEVSER znaƒçi "mnogo dobro" ili "obilje".'},
            {question: 'Ko su Kurej≈°ije?', options: ['Stanovnici Medine', 'Stanovnici Mekke', 'Stanovnici Taifa', 'Stanovnici Jemena'], answer: 'Stanovnici Mekke', explanation: 'KUREJ≈†IJE su pleme koje je ≈æivjelo u Mekki.'},
            {question: '"Fesalli li rabbike venhar" znaƒçi:', options: ['Reci nevjernicima', 'Moli se i kurban kolji', 'Vama va≈°a vjera', 'Koji gladne hrani'], answer: 'Moli se i kurban kolji', explanation: '"Zato se Gospodaru svome moli i kurban kolji" - El-Kevser.'},
            {question: 'Sura El-Maun kritizira one koji:', options: ['Klanjaju redovno', 'Grubo odbijaju siroƒçe', 'Poma≈æu siroma≈°ne', 'Daju zekat'], answer: 'Grubo odbijaju siroƒçe', explanation: 'El-Maun kritizira one koji grubo odbijaju jetima.'},
            {question: 'Koja sura govori o putovanjima Kurej≈°ija?', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Kurej≈°', explanation: 'El-KUREJ≈† govori o zimskim i ljetnim putovanjima.'},
            {question: '"Kritizujem one koji klanjaju radi ljudi." Koja sam sura?', options: ['El-Kafirun', 'El-Kevser', 'El-Maun', 'El-Kurej≈°'], answer: 'El-Maun', explanation: 'EL-MAUN kritizira munafike koji klanjaju radi ljudi.'},
            {question: '"Lekum dinukum ve lije din" znaƒçi:', options: ['U ime Allaha', 'Vama va≈°a vjera, a meni moja', 'Mnogo dobro', 'Tra≈æim za≈°titu'], answer: 'Vama va≈°a vjera, a meni moja', explanation: 'To je posljednji ajet sure El-Kafirun.'}
            ]
        };
    </script>

    <!-- Centralizovani JavaScript Engine -->
    <script src="../core/quiz-engine.js"></script>
    <!-- MEKTEB AUTO-SAVE - Inline integracija -->
    <script>
    console.log('üîå MEKTEB AUTO-SAVE: Uƒçitan!');
    
    // ƒåekaj da se stranica potpuno uƒçita
    window.addEventListener('load', function() {
        console.log('üìÑ Stranica uƒçitana, aktiviram auto-save...');
        
        // Funkcija za spremanje rezultata
        async function saveMektebResult(score, total, time) {
            const API_URL = 'https://mekteb.net/wp-json/mekteb/v1';
            
            console.log('üíæ saveMektebResult pozvan:', {score, total, time});
            
            // Provjeri da li je korisnik prijavljen
            const userData = localStorage.getItem('mektebUser');
            if (!userData) {
                console.log('‚ö†Ô∏è Korisnik nije prijavljen - preskaƒçem spremanje');
                return false;
            }
            
            let user;
            try {
                user = JSON.parse(userData);
                console.log('üë§ Prijavljen korisnik:', user.name, '(ID:', user.id + ')');
            } catch (e) {
                console.error('‚ùå Gre≈°ka pri parsiranju user podataka:', e);
                return false;
            }
            
            // Detektuj naziv kviza iz URL-a
            const quizName = window.location.pathname.match(/\/([^\/]+)\.html$/)?.[1]?.toUpperCase() || 'UNKNOWN';
            console.log('üìù Kviz:', quizName);
            
            const payload = {
                user_id: user.id,
                quiz: quizName,
                score: score,
                total: total,
                time: time || 0
            };
            
            console.log('üì§ ≈†aljem na API:', payload);
            
            try {
                const response = await fetch(API_URL + '/save', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
                
                console.log('üì• API Response Status:', response.status);
                
                const data = await response.json();
                console.log('üì¶ API Response Data:', data);
                
                if (data.success) {
                    console.log('‚úÖ REZULTAT USPJE≈†NO SPREMLJEN!');
                    console.log('   User:', user.name);
                    console.log('   Kviz:', quizName);
                    console.log('   Rezultat:', score + '/' + total);
                    console.log('   Postotak:', Math.round((score/total)*100) + '%');
                    return true;
                } else {
                    console.error('‚ùå API vratio gre≈°ku:', data.message);
                    return false;
                }
            } catch (error) {
                console.error('üî• Gre≈°ka pri slanju na API:', error);
                return false;
            }
        }
        
        // Javna funkcija za ruƒçno spremanje
        window.mektebSave = saveMektebResult;
        
        // AUTOMATSKO DETEKTOVANJE REZULTATA
        let resultSaved = false;
        let lastSeenScore = '0/20';
        
        const observer = new MutationObserver(function(mutations) {
            const resultScreen = document.getElementById('resultScreen');
            const resultScore = document.getElementById('resultScore');
            
            if (resultScreen && resultScore && 
                resultScreen.style.display !== 'none' && 
                !resultSaved) {
                
                const scoreText = resultScore.textContent;
                
                // Ako se rezultat promijenio i nije 0/20
                if (scoreText !== lastSeenScore && scoreText !== '0/20') {
                    console.log('üéØ Rezultat se promijenio:', lastSeenScore, '‚Üí', scoreText);
                    
                    const match = scoreText.match(/(\d+)\/(\d+)/);
                    if (match) {
                        const score = parseInt(match[1]);
                        const total = parseInt(match[2]);
                        
                        // Validacija: score mora biti > 0 ili ako je stvarno 0 onda total > 0
                        if (score > 0 || (score === 0 && total > 0 && scoreText !== '0/20')) {
                            console.log('‚úÖ Detektovan finalni rezultat:', score + '/' + total);
                            
                            resultSaved = true;
                            saveMektebResult(score, total, 0);
                        }
                    }
                }
                
                lastSeenScore = scoreText;
            }
        });
        
        // Posmatraj cijeli body
        observer.observe(document.body, {
            childList: true,
            subtree: true,
            attributes: true,
            attributeFilter: ['style'],
            characterData: true  // Prati promjene u tekstualnom sadr≈æaju
        });
        
        console.log('‚úÖ Auto-save modul aktivan!');
        console.log('   üìå Za ruƒçno spremanje: window.mektebSave(score, total, time)');
    });
    </script>
</body>
</html>