<!DOCTYPE html>
<html lang="bs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kviz 2C</title>
    
    <!-- Centralizovani CSS -->
    <link rel="stylesheet" href="../core/styles.css">
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="quiz-header">
            <img src="../assets/images/mekteb_logo.png" alt="MEKTEB Logo" class="quiz-icon">
            <h1>Kviz 2C</h1>
            <p class="subtitle">Ahlak i Grijesi</p>
        </div>

        <!-- QUIZ SCREEN -->
        <div id="quizScreen" class="quiz-screen">
            <div class="progress-info">
                <a href="../index.html" class="back-link">â† Nazad</a>
                <div class="progress-bar-container">
                    <div id="progressBar" class="progress-bar"></div>
                </div>
                <span id="questionCounter" style="color: #fbbf24; font-weight: 600;">1/20</span>
            </div>

            <div class="question-card">
                <div id="questionText" class="question-text"></div>
                <div id="optionsContainer" class="options"></div>
            </div>
        </div>

        <!-- RESULT SCREEN -->
        <div id="resultScreen" class="result-screen">
            <div class="result-card">
                <div id="resultEmoji" class="result-emoji">ğŸŒŸ</div>
                <div id="resultMessage" class="result-message">Izvrsno!</div>
                <div id="resultScore" class="result-score">0/20</div>
                <div id="resultPercentage" class="result-percentage">0% taÄnih odgovora</div>
                <button onclick="restartQuiz()" class="restart-btn">ğŸ”„ Ponovi kviz</button>
            </div>
        </div>
    </div>

    <!-- POPUP OVERLAY -->
    <div id="popupOverlay" class="popup-overlay">
        <div class="popup-content">
            <div id="popupIcon" class="popup-icon">âœ…</div>
            <div id="popupTitle" class="popup-title">TaÄno!</div>
            <div id="popupExplanation" class="popup-explanation"></div>
            <button onclick="nextQuestion()" class="popup-next-btn">SljedeÄ‡e pitanje â†’</button>
        </div>
    </div>

    <!-- QUIZ DATA -->
    <script>
        const quizData = {
            questionsToShow: 20,
            allQuestions: [
// ===== DA/NE PITANJA (20) =====
            {question: 'Grijesi se dijele na male, velike i teÅ¡ke.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Grijesi se dijele na tri kategorije: mali, veliki i teÅ¡ki grijesi.'},
            {question: 'Mali grijesi postaju veliki ako se na njima ustraje.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Ako osoba ustraje na malim grijesima i smatra ih nevaÅ¾nim, Äini veliki grijeh.'},
            {question: 'TeÅ¡ki grijesi izvode poÄinioca iz vjere islama.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! TeÅ¡ki grijesi kao kufr, Å¡irk i riddet izvode osobu iz vjere.'},
            {question: 'Tevba se moÅ¾e uputiti bilo kome, ne samo Allahu.', options: ['DA', 'NE'], answer: 'NE', explanation: 'NetaÄno! Tevba se upuÄ‡uje SAMO Allahu, dÅ¾.Å¡.'},
            {question: 'Adem, a.s., i Hava su prvi uÄinili tevbu.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Nakon grijeha u DÅ¾ennetu, Adem i Hava su se prvi pokajali Allahu.'},
            {question: 'ÄŒistoÄ‡a je pola vjere.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Poslanik, a.s., je rekao: "ÄŒistoÄ‡a je pola vjere." (Muslim)'},
            {question: 'Alkohol je u islamu dozvoljen u malim koliÄinama.', options: ['DA', 'NE'], answer: 'NE', explanation: 'NetaÄno! Alkohol je POTPUNO zabranjen. Poslanik kaÅ¾e: "Alkohol je majka svih zala."'},
            {question: 'Å irk je pripisivanje druga Allahu.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Å irk je vjerovanje da uz Allaha postoje i druga boÅ¾anstva - teÅ¡ki grijeh.'},
            {question: 'Iskrenost podrazumijeva govorenje istine.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Iskrenost znaÄi govoriti istinu, ispunjavati obeÄ‡anja i biti poÅ¡ten.'},
            {question: 'Umjerenost je sredina izmeÄ‘u pretjerivanja i nemara.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Islam je vjera srednjeg puta - umjerenosti u svemu.'},
            {question: 'Halal je sve ono Å¡to je Allah zabranio.', options: ['DA', 'NE'], answer: 'NE', explanation: 'NetaÄno! HALAL je ono Å¡to je Allah DOZVOLIO, a HARAM je zabranjeno.'},
            {question: 'Ogovaranje i potvaranje su veliki grijesi.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! PrenoÅ¡enje tuÄ‘ih rijeÄi, ogovaranje i potvaranje su veliki grijesi.'},
            {question: 'Ostavljanje namaza je veliki grijeh.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! NapuÅ¡tanje namaza ubraja se u velike grijehe.'},
            {question: 'Nifak je licemjerstvo u vjeri.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Nifak je kada osoba javno istiÄe da vjeruje, a u tajnosti to poriÄe.'},
            {question: 'Kufr je nevjerovanje u Allaha i temeljne istine vjere.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Kufr je nevjerovanje i poricanje temeljnih istina - teÅ¡ki grijeh.'},
            {question: 'Grijeh je ono Å¡to te tiÅ¡ti u prsima.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Poslanik je rekao: "Grijeh je ono Å¡to te tiÅ¡ti u prsima i Å¡to ne bi volio da saznaju ljudi."'},
            {question: 'SaosjeÄ‡ajnost je osjeÄ‡aj naklonosti prema tuÄ‘oj nevolji.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! SaosjeÄ‡ajnost nas Äini humanijim i navodi da pomognemo drugima.'},
            {question: 'Riddet je napuÅ¡tanje vjere islama.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Riddet je javno napuÅ¡tanje vjere islama - teÅ¡ki grijeh.'},
            {question: 'Za tevbu je dovoljno samo srcem se pokajati.', options: ['DA', 'NE'], answer: 'NE', explanation: 'NetaÄno! Tevba zahtijeva: prestanak grijeha, kajanje srcem i odluku da se ne vraÄ‡a na grijeh.'},
            {question: 'Posljedice grijeha osjeÄ‡aju se i na dunjaluku i na ahiretu.', options: ['DA', 'NE'], answer: 'DA', explanation: 'TaÄno! Posljedice grijeha vidljive su na ovom svijetu, a najveÄ‡e Ä‡e biti na Sudnjem danu.'},

            // ===== VIÅ ESTRUKI IZBOR (30) =====
            {question: 'Grijesi se dijele na:', options: ['Dva tipa', 'Tri tipa', 'ÄŒetiri tipa', 'Pet tipova'], answer: 'Tri tipa', explanation: 'Mali, veliki i teÅ¡ki grijesi - tri kategorije.'},
            {question: 'Å ta je grijeh?', options: ['Sve Å¡to je Allah dozvolio', 'Sve Å¡to je Allah zabranio', 'Samo ubistvo', 'Samo kraÄ‘a'], answer: 'Sve Å¡to je Allah zabranio', explanation: 'Grijeh je sve Å¡to je Allah zabranio i prelaÅ¾enje Njegovih granica.'},
            {question: 'Mali grijesi su oni za koje:', options: ['Je predviÄ‘ena smrt', 'Nije predviÄ‘ena Å¡erijatska kazna', 'Osoba izlazi iz vjere', 'Nema oprosta'], answer: 'Nije predviÄ‘ena Å¡erijatska kazna', explanation: 'Mali grijesi nemaju Å¡erijatsku kaznu niti prijetnju DÅ¾ehennemom.'},
            {question: 'Koji od navedenih je VELIKI grijeh?', options: ['Razgovor u vrijeme ezana', 'Ubistvo', 'Neurednost', 'Kasno ustajanje'], answer: 'Ubistvo', explanation: 'Ubistvo i samoubistvo su veliki grijesi - Allah daruje Å¾ivot i samo On ga uzima.'},
            {question: 'Koji grijeh izvodi osobu iz vjere?', options: ['Mali grijeh', 'Veliki grijeh', 'TeÅ¡ki grijeh', 'Svi grijesi'], answer: 'TeÅ¡ki grijeh', explanation: 'TeÅ¡ki grijesi (kufr, Å¡irk, riddet, nifak) izvode poÄinioca iz vjere.'},
            {question: 'Å ta je KUFR?', options: ['Licemjerstvo', 'Nevjerovanje u Allaha', 'NapuÅ¡tanje vjere', 'Pripisivanje druga'], answer: 'Nevjerovanje u Allaha', explanation: 'KUFR je nevjerovanje u Allaha i ostale temeljne istine vjere.'},
            {question: 'Å ta je Å IRK?', options: ['Licemjerstvo', 'Nevjerovanje', 'Pripisivanje druga Allahu', 'NapuÅ¡tanje vjere'], answer: 'Pripisivanje druga Allahu', explanation: 'Å IRK je vjerovanje da uz Allaha postoje i druga boÅ¾anstva.'},
            {question: 'Å ta je RIDDET?', options: ['Licemjerstvo', 'Nevjerovanje', 'Pripisivanje druga', 'NapuÅ¡tanje vjere islama'], answer: 'NapuÅ¡tanje vjere islama', explanation: 'RIDDET je javno napuÅ¡tanje vjere islama.'},
            {question: 'Å ta je NIFAK?', options: ['Licemjerstvo u vjeri', 'Nevjerovanje', 'Å irk', 'Riddet'], answer: 'Licemjerstvo u vjeri', explanation: 'NIFAK je kada osoba javno vjeruje, a u tajnosti poriÄe.'},
            {question: 'Å ta je tevba?', options: ['Vrsta namaza', 'Pokajanje za grijeh', 'Vrsta posta', 'Vrsta sadake'], answer: 'Pokajanje za grijeh', explanation: 'TEVBA je pokajanje za uÄinjeni grijeh, upuÄ‡eno Allahu.'},
            {question: 'Da bi tevba bila primljena, potrebno je:', options: ['Samo izgovoriti rijeÄi', 'Prestati s grijehom i pokajati se srcem', 'Samo dati sadaku', 'Samo klanjati'], answer: 'Prestati s grijehom i pokajati se srcem', explanation: 'Tevba zahtijeva: prestanak grijeha, kajanje srcem i odluku da se ne vraÄ‡a na grijeh.'},
            {question: 'Kako glasi dova za pokajanje?', options: ['Bismillah', 'Elhamdulillah', 'Estagfirullah', 'Subhanallah'], answer: 'Estagfirullah', explanation: 'ESTAGFIRULLAH - TraÅ¾im Allahov oprost za grijehe.'},
            {question: 'Å ta je HALAL?', options: ['Zabranjeno', 'Dozvoljeno', 'PokuÄ‘eno', 'Obavezno'], answer: 'Dozvoljeno', explanation: 'HALAL je sve Å¡to je Allah dozvolio.'},
            {question: 'Å ta je HARAM?', options: ['Dozvoljeno', 'Zabranjeno', 'Pohvalno', 'Obavezno'], answer: 'Zabranjeno', explanation: 'HARAM je sve Å¡to je Allah zabranio.'},
            {question: 'Poslanik je rekao da je alkohol:', options: ['Dozvoljen u malim koliÄinama', 'Majka svih zala', 'Lijek', 'Neutralan'], answer: 'Majka svih zala', explanation: '"Alkohol je majka svih zala." (Hakim)'},
            {question: 'ÄŒestitost i odgovornost znaÄe:', options: ['OdgaÄ‘anje obaveza', 'IzvrÅ¡avanje obaveza na vrijeme', 'Izbjegavanje rada', 'PrepuÅ¡tanje drugima'], answer: 'IzvrÅ¡avanje obaveza na vrijeme', explanation: 'ÄŒestita i odgovorna osoba svoje obaveze izvrÅ¡ava na vrijeme i savjesno.'},
            {question: 'Iskrenost je nasuprot:', options: ['Istini', 'Laganju i prevari', 'PoÅ¡tenju', 'Dobroti'], answer: 'Laganju i prevari', explanation: 'Iskrenost je suprotna laganju, prevari, varanju i dvoliÄnosti.'},
            {question: 'SaosjeÄ‡ajnost je posebno potrebna prema:', options: ['Bogatima', 'Jetimima i siromaÅ¡nima', 'Samo porodici', 'Nikome'], answer: 'Jetimima i siromaÅ¡nima', explanation: 'Poslanik je bio posebno saosjeÄ‡ajan prema jetimima, siromaÅ¡nima i slabima.'},
            {question: 'Å ta je jetim?', options: ['BogataÅ¡', 'SiroÄe', 'Putnik', 'Starac'], answer: 'SiroÄe', explanation: 'JETIM je siroÄe - dijete bez roditelja.'},
            {question: 'Skromnost je:', options: ['Hvalisanje bogatstvom', 'Poniznost i umjerenost', 'Å krtost', 'Gordost'], answer: 'Poniznost i umjerenost', explanation: 'Skromnost je poniznost, jednostavnost i umjerenost u svemu.'},
            {question: 'Islam je vjera:', options: ['Krajnosti', 'Srednjeg puta', 'Pretjerivanja', 'Nemara'], answer: 'Srednjeg puta', explanation: 'Islam je vjera SREDNJEG PUTA - umjerenosti izmeÄ‘u krajnosti.'},
            {question: 'Posljedice grijeha NISU:', options: ['Gubitak vjere', 'Bolesti', 'SiromaÅ¡tvo', 'PoveÄ‡anje imana'], answer: 'PoveÄ‡anje imana', explanation: 'Grijesi slabe vjeru, ne jaÄaju je. Donose bolesti, siromaÅ¡tvo i nesreÄ‡u.'},
            {question: 'NeposluÅ¡nost prema roditeljima je:', options: ['Mali grijeh', 'Veliki grijeh', 'Dozvoljena', 'Pohvalna'], answer: 'Veliki grijeh', explanation: '"Allahovo zadovoljstvo je u zadovoljstvu roditelja." (Tirmizi)'},
            {question: 'Kidanje rodbinskih veza je:', options: ['Dozvoljeno', 'Pohvalno', 'Veliki grijeh', 'Mali grijeh'], answer: 'Veliki grijeh', explanation: '"U DÅ¾ennet neÄ‡e uÄ‡i onaj ko bude kidao rodbinske veze!" (Buhari)'},
            {question: 'LaÅ¾ vodi ka:', options: ['DÅ¾ennetu', 'DobroÄinstvu', 'Onome Å¡to je loÅ¡e', 'Nagradi'], answer: 'Onome Å¡to je loÅ¡e', explanation: 'LaÅ¾ vodi onome Å¡to je loÅ¡e i Å¡tetno, nanosi Å¡tetu pojedincima i zajednici.'},
            {question: 'Kocka i igre na sreÄ‡u su:', options: ['Dozvoljene', 'Zabranjene', 'Pohvalne', 'Neutralne'], answer: 'Zabranjene', explanation: 'Kocka, kladionica i igre na sreÄ‡u su HARAM - zabranjene.'},
            {question: 'Ko se brine o siroÄetu, Poslanik je rekao da Ä‡e biti s njim u:', options: ['Kaburu', 'DÅ¾ennetu', 'Na dunjaluku', 'U dÅ¾amiji'], answer: 'DÅ¾ennetu', explanation: '"Ja i onaj ko zbrinjava siroÄe bit Ä‡emo ovako u DÅ¾ennetu!" (Buhari)'},
            {question: 'Å ta se ubraja u liÄnu higijenu?', options: ['Samo pranje zuba', 'Pranje, kupanje, podrezivanje noktiju', 'Samo kupanje', 'NiÅ¡ta'], answer: 'Pranje, kupanje, podrezivanje noktiju', explanation: 'LiÄna higijena: pranje ruku, zuba, kupanje, podrezivanje noktiju, Äista odjeÄ‡a.'},
            {question: 'Poslanik je rekao: "ÄŒistoÄ‡a je pola..."', options: ['Zdravlja', 'Vjere', 'Å½ivota', 'Imana'], answer: 'Vjere', explanation: '"ÄŒistoÄ‡a je pola vjere." (Muslim)'},
            {question: 'Islam je zabranio sve Å¡to vodi:', options: ['Dobru', 'DÅ¾ennetu', 'Bludu i grijehu', 'Ibadetu'], answer: 'Bludu i grijehu', explanation: 'Islam zabranjuje sve Å¡to vodi grijehu - razgoliÄ‡avanje, bestidan govor itd.'},

            // ===== PAMETNA PITANJA (50) =====
            // Izbaci uljeza (10)
            {question: 'Izbaci rijeÄ koja NE pripada: Kufr, Å irk, Riddet, Iskrenost', options: ['Kufr', 'Å irk', 'Riddet', 'Iskrenost'], answer: 'Iskrenost', explanation: 'Kufr, Å irk i Riddet su TEÅ KI GRIJESI, a Iskrenost je VRLINA.'},
            {question: 'Izbaci rijeÄ koja NE pripada: LaÅ¾, Ogovaranje, Kocka, Skromnost', options: ['LaÅ¾', 'Ogovaranje', 'Kocka', 'Skromnost'], answer: 'Skromnost', explanation: 'LaÅ¾, Ogovaranje i Kocka su GRIJESI, a Skromnost je VRLINA.'},
            {question: 'Izbaci rijeÄ koja NE pripada: Iskrenost, ÄŒestitost, SaosjeÄ‡ajnost, Nifak', options: ['Iskrenost', 'ÄŒestitost', 'SaosjeÄ‡ajnost', 'Nifak'], answer: 'Nifak', explanation: 'Iskrenost, ÄŒestitost i SaosjeÄ‡ajnost su VRLINE, a Nifak je TEÅ KI GRIJEH.'},
            {question: 'Izbaci rijeÄ koja NE pripada: Ubistvo, Blud, Alkohol, Tevba', options: ['Ubistvo', 'Blud', 'Alkohol', 'Tevba'], answer: 'Tevba', explanation: 'Ubistvo, Blud i Alkohol su VELIKI GRIJESI, a Tevba je POKAJANJE.'},
            {question: 'Izbaci rijeÄ koja NE pripada: Halal, Haram, Mubah, Å irk', options: ['Halal', 'Haram', 'Mubah', 'Å irk'], answer: 'Å irk', explanation: 'Halal, Haram i Mubah su Å ERIJATSKE KATEGORIJE, a Å irk je GRIJEH.'},
            {question: 'Izbaci pojam koji NE pripada: Razgovor u vrijeme ezana, Neuredno odijevanje, Izostavljanje sunneta, Ubistvo', options: ['Razgovor u vrijeme ezana', 'Neuredno odijevanje', 'Izostavljanje sunneta', 'Ubistvo'], answer: 'Ubistvo', explanation: 'Prva tri su MALI grijesi, a Ubistvo je VELIKI grijeh.'},
            {question: 'Izbaci pojam koji NE pripada: ÄŒestitost, Odgovornost, Iskrenost, Oholost', options: ['ÄŒestitost', 'Odgovornost', 'Iskrenost', 'Oholost'], answer: 'Oholost', explanation: 'ÄŒestitost, Odgovornost i Iskrenost su VRLINE, Oholost je MANA.'},
            {question: 'Izbaci pojam koji NE pripada: SiromaÅ¡tvo, Bolesti, Gubitak vjere, Blagoslov', options: ['SiromaÅ¡tvo', 'Bolesti', 'Gubitak vjere', 'Blagoslov'], answer: 'Blagoslov', explanation: 'SiromaÅ¡tvo, Bolesti i Gubitak vjere su POSLJEDICE GRIJEHA.'},
            {question: 'Izbaci pojam koji NE pripada: Svinjsko meso, Krv, Med, Alkohol', options: ['Svinjsko meso', 'Krv', 'Med', 'Alkohol'], answer: 'Med', explanation: 'Svinjsko meso, Krv i Alkohol su HARAM, a Med je HALAL.'},
            {question: 'Izbaci pojam koji NE pripada: Kufr, Nifak, Riddet, Umjerenost', options: ['Kufr', 'Nifak', 'Riddet', 'Umjerenost'], answer: 'Umjerenost', explanation: 'Kufr, Nifak i Riddet su TEÅ KI GRIJESI, Umjerenost je VRLINA.'},
            
            // Asocijacije (8)
            {question: 'Pojam TEVBA vas asocira na:', options: ['Grijeh', 'Pokajanje', 'Namaz', 'Post'], answer: 'Pokajanje', explanation: 'TEVBA znaÄi pokajanje za uÄinjene grijehe.'},
            {question: 'Pojam ESTAGFIRULLAH asocira na:', options: ['Zahvalu', 'TraÅ¾enje oprosta', 'VeliÄanje', 'Slavljenje'], answer: 'TraÅ¾enje oprosta', explanation: 'ESTAGFIRULLAH - TraÅ¾im Allahov oprost.'},
            {question: 'Pojam JETIM asocira na:', options: ['BogataÅ¡a', 'SiroÄe', 'UÄenjaka', 'Vladara'], answer: 'SiroÄe', explanation: 'JETIM je siroÄe - dijete bez roditelja.'},
            {question: 'Pojam HALAL asocira na:', options: ['Zabranjeno', 'Dozvoljeno', 'PokuÄ‘eno', 'Obavezno'], answer: 'Dozvoljeno', explanation: 'HALAL je sve Å¡to je Allah dozvolio.'},
            {question: 'Pojam HARAM asocira na:', options: ['Dozvoljeno', 'Zabranjeno', 'Pohvalno', 'Neutralno'], answer: 'Zabranjeno', explanation: 'HARAM je sve Å¡to je Allah zabranio.'},
            {question: 'Pojam Å IRK asocira na:', options: ['JednoÄ‡u Allaha', 'Pripisivanje druga', 'Pokajanje', 'Vrlinu'], answer: 'Pripisivanje druga', explanation: 'Å IRK je pripisivanje druga Allahu - teÅ¡ki grijeh.'},
            {question: 'Pojam AHLAK asocira na:', options: ['Namaz', 'Moral i ponaÅ¡anje', 'Post', 'HadÅ¾'], answer: 'Moral i ponaÅ¡anje', explanation: 'AHLAK je islamski moral i lijepo ponaÅ¡anje.'},
            {question: 'Pojam RIDDET asocira na:', options: ['JaÄanje vjere', 'NapuÅ¡tanje vjere', 'UÄenje', 'Ibadet'], answer: 'NapuÅ¡tanje vjere', explanation: 'RIDDET je napuÅ¡tanje vjere islama - teÅ¡ki grijeh.'},

            // Analogije (8)
            {question: 'Dopuni: Halal : dozvoljeno = Haram : ?', options: ['Pohvalno', 'Zabranjeno', 'Obavezno', 'PokuÄ‘eno'], answer: 'Zabranjeno', explanation: 'Halal je dozvoljeno, Haram je zabranjeno.'},
            {question: 'Dopuni: Tevba : pokajanje = Istigfar : ?', options: ['Zahvala', 'TraÅ¾enje oprosta', 'Slavljenje', 'VeliÄanje'], answer: 'TraÅ¾enje oprosta', explanation: 'Tevba je pokajanje, Istigfar je traÅ¾enje oprosta.'},
            {question: 'Dopuni: Kufr : nevjerovanje = Nifak : ?', options: ['Iskrenost', 'Licemjerstvo', 'Hrabrost', 'Skromnost'], answer: 'Licemjerstvo', explanation: 'Kufr je nevjerovanje, Nifak je licemjerstvo.'},
            {question: 'Dopuni: Iskrenost : vrlina = LaÅ¾ : ?', options: ['Vrlina', 'Grijeh', 'Pohvala', 'Nagrada'], answer: 'Grijeh', explanation: 'Iskrenost je vrlina, LaÅ¾ je grijeh.'},
            {question: 'Dopuni: Skromnost : pohvalno = Oholost : ?', options: ['Pohvalno', 'PokuÄ‘eno', 'Obavezno', 'Neutralno'], answer: 'PokuÄ‘eno', explanation: 'Skromnost je pohvalna, Oholost je pokuÄ‘ena.'},
            {question: 'Dopuni: ÄŒestitost : odgovornost = LaÅ¾ : ?', options: ['Iskrenost', 'Prevara', 'PoÅ¡tenje', 'Hrabrost'], answer: 'Prevara', explanation: 'ÄŒestitost ide s odgovornoÅ¡Ä‡u, LaÅ¾ ide s prevarom.'},
            {question: 'Dopuni: Mali grijeh : upozorenje = TeÅ¡ki grijeh : ?', options: ['Nagrada', 'Izlazak iz vjere', 'Pohvala', 'Blagoslov'], answer: 'Izlazak iz vjere', explanation: 'Mali grijeh nosi upozorenje, TeÅ¡ki grijeh izvodi iz vjere.'},
            {question: 'Dopuni: Jetim : siroÄe = Ta\'zija : ?', options: ['Radost', 'SuÄ‡ut', 'Svadba', 'Zabava'], answer: 'SuÄ‡ut', explanation: 'Jetim je siroÄe, Ta\'zija je iskazivanje suÄ‡uti.'},

            // Ko/Å ta sam ja? (8)
            {question: '"Ja sam pokajanje za uÄinjeni grijeh." Å ta sam?', options: ['Namaz', 'Tevba', 'Post', 'Sadaka'], answer: 'Tevba', explanation: 'TEVBA je pokajanje za uÄinjene grijehe.'},
            {question: '"Ja sam teÅ¡ki grijeh - nevjerovanje u Allaha." Å ta sam?', options: ['Å irk', 'Kufr', 'Nifak', 'Riddet'], answer: 'Kufr', explanation: 'KUFR je nevjerovanje u Allaha i temeljne istine vjere.'},
            {question: '"Ja sam vrlina - govorim istinu i drÅ¾im obeÄ‡anja." Å ta sam?', options: ['Oholost', 'LaÅ¾', 'Iskrenost', 'Prevara'], answer: 'Iskrenost', explanation: 'ISKRENOST znaÄi govoriti istinu i drÅ¾ati obeÄ‡anja.'},
            {question: '"Ja sam dijete bez roditelja." Ko sam?', options: ['Musafir', 'Jetim', 'Muallim', 'Imam'], answer: 'Jetim', explanation: 'JETIM je siroÄe - dijete bez roditelja.'},
            {question: '"Ja sam sve Å¡to je Allah dozvolio." Å ta sam?', options: ['Haram', 'Mekruh', 'Halal', 'Grijeh'], answer: 'Halal', explanation: 'HALAL je sve Å¡to je Allah dozvolio.'},
            {question: '"Ja sam licemjerstvo - javno vjerujem, tajno poriÄem." Å ta sam?', options: ['Kufr', 'Å irk', 'Nifak', 'Riddet'], answer: 'Nifak', explanation: 'NIFAK je licemjerstvo u vjeri.'},
            {question: '"Ja sam sredina izmeÄ‘u pretjerivanja i nemara." Å ta sam?', options: ['Krajnost', 'Umjerenost', 'Pretjerivanje', 'Nemar'], answer: 'Umjerenost', explanation: 'UMJERENOST je srednji put izmeÄ‘u krajnosti.'},
            {question: '"Ja sam pripisivanje druga Allahu." Å ta sam?', options: ['Kufr', 'Å irk', 'Nifak', 'Tevba'], answer: 'Å irk', explanation: 'Å IRK je pripisivanje druga Allahu - teÅ¡ki grijeh.'},

            // PronaÄ‘i greÅ¡ku (6)
            {question: 'PronaÄ‘i GREÅ KU: "Grijesi se dijele na male i velike."', options: ['Ima i TEÅ KI grijesi', 'Nema malih grijeha', 'Nema velikih grijeha', 'Nema greÅ¡ke'], answer: 'Ima i TEÅ KI grijesi', explanation: 'Grijesi se dijele na MALE, VELIKE i TEÅ KE.'},
            {question: 'PronaÄ‘i GREÅ KU: "Tevba se moÅ¾e uputiti imamu."', options: ['Samo ALLAHU', 'Samo roditeljima', 'Samo prijateljima', 'Nema greÅ¡ke'], answer: 'Samo ALLAHU', explanation: 'Tevba se upuÄ‡uje SAMO Allahu, dÅ¾.Å¡.'},
            {question: 'PronaÄ‘i GREÅ KU: "Halal je sve Å¡to je Allah zabranio."', options: ['DOZVOLJENO, ne zabranio', 'TaÄna definicija', 'Halal ne postoji', 'Nema greÅ¡ke'], answer: 'DOZVOLJENO, ne zabranio', explanation: 'Halal je ono Å¡to je Allah DOZVOLIO, ne zabranio.'},
            {question: 'PronaÄ‘i GREÅ KU: "Nifak je iskrenost u vjeri."', options: ['LICEMJERSTVO, ne iskrenost', 'TaÄna definicija', 'Nifak je vrlina', 'Nema greÅ¡ke'], answer: 'LICEMJERSTVO, ne iskrenost', explanation: 'Nifak je LICEMJERSTVO - suprotno od iskrenosti.'},
            {question: 'PronaÄ‘i GREÅ KU: "Mali grijesi nikada ne postaju veliki."', options: ['POSTAJU ako se ustraje', 'TaÄno je', 'Mali grijesi ne postoje', 'Nema greÅ¡ke'], answer: 'POSTAJU ako se ustraje', explanation: 'Mali grijesi POSTAJU veliki ako se na njima ustraje.'},
            {question: 'PronaÄ‘i GREÅ KU: "Å irk je jednoÄ‡a Allahova."', options: ['To je VAHDANIJJET', 'Å irk je vrlina', 'TaÄna definicija', 'Nema greÅ¡ke'], answer: 'To je VAHDANIJJET', explanation: 'JednoÄ‡a Allaha je VAHDANIJJET. Å irk je PRIPISIVANJE DRUGA.'},

            // Situacijska pitanja (10)
            {question: 'Ahmed je uÄinio mali grijeh i nastavlja ga Äiniti svaki dan. Å ta se deÅ¡ava?', options: ['Ostaje mali grijeh', 'Postaje veliki grijeh', 'Nema posljedica', 'Dobiva nagradu'], answer: 'Postaje veliki grijeh', explanation: 'Ustrajavanje na malom grijehu pretvara ga u VELIKI grijeh.'},
            {question: 'Fatima je uÄinila grijeh i Å¾eli se pokajati. Kome treba uputiti tevbu?', options: ['Imamu', 'Roditeljima', 'Samo Allahu', 'Prijateljima'], answer: 'Samo Allahu', explanation: 'Tevba se upuÄ‡uje SAMO Allahu, dÅ¾.Å¡.'},
            {question: 'Jusuf je ukrao novac od kolege. Za prihvatanje tevbe, Å¡ta mora uÄiniti PRVO?', options: ['Samo izgovoriti estagfirullah', 'Vratiti novac i zatraÅ¾iti halal', 'Klanjati nafilu', 'NiÅ¡ta'], answer: 'Vratiti novac i zatraÅ¾iti halal', explanation: 'Ako je grijeh prema drugoj osobi, PRVO treba ispraviti Å¡tetu i zatraÅ¾iti halal.'},
            {question: 'Selma je vidjela koleginicu kako ogovara drugu. Å ta treba uÄiniti?', options: ['PridruÅ¾iti se', 'Odvratiti od zla', 'Å utjeti', 'Prenijeti drugima'], answer: 'Odvratiti od zla', explanation: 'NaÅ¡a je obaveza nareÄ‘ivati dobro i odvraÄ‡ati od zla.'},
            {question: 'Emir ne klanja namaz veÄ‡ godinama. Kakav je to grijeh?', options: ['Mali grijeh', 'Veliki grijeh', 'Nema grijeha', 'TeÅ¡ki grijeh'], answer: 'Veliki grijeh', explanation: 'Ostavljanje namaza je VELIKI grijeh.'},
            {question: 'Amina javno kaÅ¾e da vjeruje, ali u sebi poriÄe. Kakav je to grijeh?', options: ['Mali', 'Veliki', 'Nifak - teÅ¡ki', 'Nema grijeha'], answer: 'Nifak - teÅ¡ki', explanation: 'NIFAK (licemjerstvo) je teÅ¡ki grijeh koji izvodi iz vjere.'},
            {question: 'Hasan vidi siromaÅ¡nog jetima. Å ta treba uÄiniti kao musliman?', options: ['Ignorisati', 'PomoÄ‡i i saosjeÄ‡ati', 'Ismijati', 'PobjeÄ‡i'], answer: 'PomoÄ‡i i saosjeÄ‡ati', explanation: 'Poslanik je posebno bio saosjeÄ‡ajan prema jetimima - mi trebamo slijediti njegov primjer.'},
            {question: 'Lejla je posvaÄ‘ana s rodbinom veÄ‡ godinama. Kakav je to grijeh?', options: ['Nema grijeha', 'Mali grijeh', 'Veliki grijeh', 'Pohvalno'], answer: 'Veliki grijeh', explanation: 'Kidanje rodbinskih veza je VELIKI grijeh. "U DÅ¾ennet neÄ‡e uÄ‡i onaj ko kida rodbinske veze."'},
            {question: 'Kenan razmiÅ¡lja da proba alkohol "samo jednom". Å ta mu reÄ‡i?', options: ['MoÅ¾e jednom', 'Alkohol je potpuno haram', 'Malo je dozvoljeno', 'Svejedno je'], answer: 'Alkohol je potpuno haram', explanation: 'Alkohol je POTPUNO zabranjen - "majka svih zala". Nema izuzetaka.'},
            {question: 'Merjem Å¾eli biti umjerena u Å¾ivotu. Å ta to znaÄi?', options: ['Pretjerivati u ibadetu', 'Sredina izmeÄ‘u krajnosti', 'Potpuno se odreÄ‡i dunjaluka', 'Ne raditi niÅ¡ta'], answer: 'Sredina izmeÄ‘u krajnosti', explanation: 'UMJERENOST je srednji put - ni pretjerivanje ni nemar.'}
            ]
        };
    </script>

    <!-- Centralizovani JavaScript Engine -->
    <script src="../core/quiz-engine.js"></script>
    <!-- MEKTEB AUTO-SAVE - Inline integracija -->
    <script>
    console.log('ğŸ”Œ MEKTEB AUTO-SAVE: UÄitan!');
    
    // ÄŒekaj da se stranica potpuno uÄita
    window.addEventListener('load', function() {
        console.log('ğŸ“„ Stranica uÄitana, aktiviram auto-save...');
        
        // Funkcija za spremanje rezultata
        async function saveMektebResult(score, total, time) {
            const API_URL = 'https://mekteb.net/wp-json/mekteb/v1';
            
            console.log('ğŸ’¾ saveMektebResult pozvan:', {score, total, time});
            
            // Provjeri da li je korisnik prijavljen
            const userData = localStorage.getItem('mektebUser');
            if (!userData) {
                console.log('âš ï¸ Korisnik nije prijavljen - preskaÄem spremanje');
                return false;
            }
            
            let user;
            try {
                user = JSON.parse(userData);
                console.log('ğŸ‘¤ Prijavljen korisnik:', user.name, '(ID:', user.id + ')');
            } catch (e) {
                console.error('âŒ GreÅ¡ka pri parsiranju user podataka:', e);
                return false;
            }
            
            // Detektuj naziv kviza iz URL-a
            const quizName = window.location.pathname.match(/\/([^\/]+)\.html$/)?.[1]?.toUpperCase() || 'UNKNOWN';
            console.log('ğŸ“ Kviz:', quizName);
            
            const payload = {
                user_id: user.id,
                quiz: quizName,
                score: score,
                total: total,
                time: time || 0
            };
            
            console.log('ğŸ“¤ Å aljem na API:', payload);
            
            try {
                const response = await fetch(API_URL + '/save', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(payload)
                });
                
                console.log('ğŸ“¥ API Response Status:', response.status);
                
                const data = await response.json();
                console.log('ğŸ“¦ API Response Data:', data);
                
                if (data.success) {
                    console.log('âœ… REZULTAT USPJEÅ NO SPREMLJEN!');
                    console.log('   User:', user.name);
                    console.log('   Kviz:', quizName);
                    console.log('   Rezultat:', score + '/' + total);
                    console.log('   Postotak:', Math.round((score/total)*100) + '%');
                    return true;
                } else {
                    console.error('âŒ API vratio greÅ¡ku:', data.message);
                    return false;
                }
            } catch (error) {
                console.error('ğŸ”¥ GreÅ¡ka pri slanju na API:', error);
                return false;
            }
        }
        
        // Javna funkcija za ruÄno spremanje
        window.mektebSave = saveMektebResult;
        
        // AUTOMATSKO DETEKTOVANJE REZULTATA
        let resultSaved = false;
        let lastSeenScore = '0/20';
        
        const observer = new MutationObserver(function(mutations) {
            const resultScreen = document.getElementById('resultScreen');
            const resultScore = document.getElementById('resultScore');
            
            if (resultScreen && resultScore && 
                resultScreen.style.display !== 'none' && 
                !resultSaved) {
                
                const scoreText = resultScore.textContent;
                
                // Ako se rezultat promijenio i nije 0/20
                if (scoreText !== lastSeenScore && scoreText !== '0/20') {
                    console.log('ğŸ¯ Rezultat se promijenio:', lastSeenScore, 'â†’', scoreText);
                    
                    const match = scoreText.match(/(\d+)\/(\d+)/);
                    if (match) {
                        const score = parseInt(match[1]);
                        const total = parseInt(match[2]);
                        
                        // Validacija: score mora biti > 0 ili ako je stvarno 0 onda total > 0
                        if (score > 0 || (score === 0 && total > 0 && scoreText !== '0/20')) {
                            console.log('âœ… Detektovan finalni rezultat:', score + '/' + total);
                            
                            resultSaved = true;
                            saveMektebResult(score, total, 0);
                        }
                    }
                }
                
                lastSeenScore = scoreText;
            }
        });
        
        // Posmatraj cijeli body
        observer.observe(document.body, {
            childList: true,
            subtree: true,
            attributes: true,
            attributeFilter: ['style'],
            characterData: true  // Prati promjene u tekstualnom sadrÅ¾aju
        });
        
        console.log('âœ… Auto-save modul aktivan!');
        console.log('   ğŸ“Œ Za ruÄno spremanje: window.mektebSave(score, total, time)');
    });
    </script>
</body>
</html>